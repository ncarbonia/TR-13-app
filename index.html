<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#146bb5">

    <link rel="manifest" href="./manifest.webmanifest">
    <title>Big G Steel LLC - TR-13 Crane Tolerance Checker</title>
    <link rel="stylesheet" href="./styles.css">
  </head>

  <body>
    <main class="container">
      <header>
        <h1>Big G Steel LLC - Overhead Crane Installation Tolerance Checker</h1>
        <p>
          Compare field measurements against CMAA 70 / CMAA 74 and TR-13 tolerance checks.
        </p>
      </header>

      <section class="card">
        <h2>Project Details</h2>
        <div class="grid two-col">
          <label>
            Project name
            <input id="projectName" type="text" placeholder="Plant A - Runway Line 2">
          </label>
          <label>
            Spec profile
            <select id="profileSelect"></select>
          </label>
        </div>
      </section>

      <section class="card">
        <h2>Column Layout &amp; Station Setup</h2>
        <div class="grid two-col">
          <label>
            Columns per side
            <input id="columnsPerSide" type="number" min="2" value="3">
          </label>
          <label>
            Measured station distance (ft)
            <input id="measuredStationDistance" type="number" min="1" value="10">
          </label>
          <label>
            Direction labels for side pair
            <select id="directionPair">
              <option value="North|South">North / South</option>
              <option value="East|West">East / West</option>
            </select>
          </label>
        </div>

        <button id="buildLayout" class="secondary" type="button">Build Column Layout</button>
        <div id="layoutContainer" class="stack"></div>

        <p class="subtle">
          Enter designed and actual column-to-column distances for each side. The app uses
          your measured station distance to generate station points starting at 0 ft between columns.
        </p>
      </section>

      <section class="card">
        <h2>Measurements</h2>
        <form id="measurementForm" class="grid two-col"></form>
        <button id="runCheck" class="primary" type="button">Run Compliance Check</button>
      </section>

      <section class="card">
        <h2>Results</h2>
        <div id="summary" class="summary">No check run yet.</div>
        <div class="actions">
          <button id="exportPdf" class="secondary" type="button">Export Results to PDF</button>
        </div>

        <table id="resultTable" aria-label="Compliance results">
          <thead>
            <tr>
              <th>Check</th>
              <th>Measured</th>
              <th>Allowed</th>
              <th>Status</th>
              <th>Reference</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>

        <div id="suggestions" class="suggestions">
          <h3>Engineering Adjustment Suggestions</h3>
          <ul id="suggestionList">
            <li>Run a compliance check to generate adjustment guidance.</li>
          </ul>
        </div>
      </section>

      <section class="card warning">
        <h2>Important</h2>
        <p>
          This tool is intended as a field aid. Always validate limits against the
          latest published CMAA No. 70, CMAA No. 74, and TR-13 documents plus project
          specifications.
        </p>
      </section>
    </main>

    <script src="./app.js"></script>
    <script>
      // PWA: register service worker (GitHub Pages-safe path)
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker.register("./sw.js").catch(console.error);
        });
      }
    </script>
  </body>
</html>
